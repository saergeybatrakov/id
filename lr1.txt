Лабораторная работа №1 Учётные записи пользователей в Системе Linux
Цель: изучить содержимое файлов, где хранятся учетные записи и пароли пользователей и групп

1. Учетные записи располагаются в файле /etc/passwd
(Просмотр: vim /etc/passwd)
student:x:1001:1001::/home/student:/bin/bash
login:x:Номер пользователя:Номер группы по умолчанию:...:Адрес домашней папки:Командная оболочка

2. Пароль хранятся в теневом файле /etc/shadow
Доступ на чтение файлоа есть только у админа и у группы root
tmp:!:20012:0:99999:7:::
Имя пользователя:Пароль ('!' - пароля не существует):Последнее изменение пароля:Минимальный возраст пароля: Максимальный возвраст пароля:Период предупреждения: Период бездействия:Срок годности:Неиспользованный
3. Информация о группах: /etc/group
tmp2:x:1004:

4. Информация о паролях для групп: /etc/gshadow
tmp:!::

5. Права доступа к объектам
Смена прав доступа к объектам выполняется администратором командой chmod
sudo chmod 775 <имя объекта>
sudo chmod g-x <имя обекта>

Смена владельца и группы владельцев выполняется администратором командой shown
sudo shown <владелец:группа владельцев> <имя оьъекта>
sudo chgrp <группа владельцев> <имя объекта>

Режим группового доступа к объектам можно использовать при смене группы, заданной по умолчанию 
newgrp <имя группы>

Специальные права доступа к объектам :SUID, GUID, sticky bit

Специальный бит SUID предозначен для запуска файла от имени его владельца. Эта процендура позволяет обычным пользователям получить права на доступ к объектам, которыми может распоряжаться владелец файла.
Пример - программа /bin/passwd, для фунекционирования которой нужны права записи в файл /etc/shadow
Такие права есть только у пользователя root, поэтому у программ /bin/ passwd владелец root и установлен бит SUID.
В результате любой пользователь может сменить свой пароль, не обращаясь к администратору


УСтановка бита SUID осуществляется при помощи программы chmod:
sudo chmod u+s <имя файла>
sudo chmod 4775 <имя файла>

Сброс бита SUID осуществляется аналогично:
sudo sudo chmod u-s <имя файла>
sudo chmod 0775 <имя файла>

Бит SUID нет смысла применять к папкам.

Специальный бит GUID предназначен для запуска файла от имени группы владельцев, либо для изменения правил наследования группы владельцев, если он установлен для папки

УСтановка бита GUID осуществляется при помощи программы chmod:
sudo chmod g+s <имя файла>
sudo chmod 2775 <имя файла>

Права доступа к файлу с установленным GUID:
-rw-rwSr-- 1 student root       0 окт 30 12:59  f1

Права доступа к каталогу с установленным GUID:
drwxrwsr-x 2 student root    4096 окт 30 13:13  F

При установке бита GUID на папку все объекту, созданные внутри папки, наследуют группу владельцев от родителей
При этом дочерние папки наследуют бит GUID.

Пример: объекты в папке с установленным GUID:
-rw-rw-r-- 1 student root    0 окт 30 13:18 123
-rw-rw-r-- 1 student root    0 окт 30 13:18 234
drwxrwsr-x 2 student root 4096 окт 30 13:18 F123

GUID- бит применяется и для файлов, и для папок.
